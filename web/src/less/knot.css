@import './ace-editor.less' layer(base);

@import 'tailwindcss';

@plugin '@tailwindcss/forms';

@source '../../public_html/**/*.html';
@source '../../templates/**/*.tmpl';
@source '../../src/**/*.js';

@custom-variant dark (&:is(.dark *));

@theme {
  --font-*: initial;
  --font-nunito: Nunito, sans-serif;
  --font-jbmono: JetBrains Mono, monospace;
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }

  /* Enable cursor pointer for buttons */
  button:not(:disabled),
  [role="button"]:not(:disabled) {
    cursor: pointer;
  }
}

@utility form-label {
  @apply block mb-2 text-sm font-medium text-gray-900 dark:text-white;
}

@utility form-field {
  @apply bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500;
}

@utility form-field-error {
  @apply border-red-500 sm:text-sm focus:ring-red-500 focus:border-red-500 dark:border-red-500 dark:focus:ring-red-500 dark:focus:border-red-500;
}

@utility error-message {
  @apply pl-0.5 text-red-500 dark:text-red-700 text-sm;
}

@utility description {
  @apply text-sm text-gray-600 dark:text-gray-500;
}

@utility btn-primary {
  @apply w-full px-5 py-3 text-base font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 sm:text-sm sm:w-auto dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-hidden disabled:cursor-not-allowed focus:ring-4 focus:ring-blue-300 dark:focus:ring-blue-800 cursor-pointer;
}

@utility nav-item {
  @apply flex items-center p-2 text-base text-gray-900 rounded-lg hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-700 border-none my-1 cursor-pointer;
}

@utility nav-item-icon {
  @apply w-6 h-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white;
}

@layer base {
  @font-face {
    font-family: 'Nunito';
    font-style: normal;
    font-weight: 100 700;
    font-display: swap;
    src: url(fonts/nunito.woff2) format('woff2');
  }

  @font-face {
    font-family: 'JetBrains Mono';
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src: url(fonts/jetbrainsmono.woff2) format('woff2');
  }
}

@utility login-body {
  background: linear-gradient(135deg, #3b82f6, #9333ea);
}

@utility mesh-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

@utility mesh-canvas {
  width: 100%;
  height: 100%;
  opacity: 0.3;
}


/* AI Assistant */
.ai-assistant {
  width: 40px;
  height: 40px;
  position: relative;
  animation: ai-assistant-float 4s ease-in-out infinite;
  cursor: pointer;
  filter: drop-shadow(0 8px 16px rgba(0, 0, 0, 0.15)) drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
}

.dark .ai-assistant {
  filter: drop-shadow(0 8px 16px rgba(255, 255, 255, 0.2)) drop-shadow(0 4px 8px rgba(255, 255, 255, 0.1));
}

/* Hexagonal with rounded corners */
.ai-assistant .shape {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 50%, #22d3ee 100%);
  clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
  border-radius: 8px;
  position: relative;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
  animation: ai-assistant-pulse 3s ease-in-out infinite;
}

.dark .ai-assistant .shape {
  box-shadow: 0 4px 12px rgba(96, 165, 250, 0.4);
}

/* Inner glow effect */
.ai-assistant .shape::before {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  right: 2px;
  bottom: 2px;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 50%, rgba(255, 255, 255, 0.2) 100%);
  clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
  border-radius: 6px;
}

/* Face container */
.ai-assistant .face {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  z-index: 2;
}

/* Eyes */
.ai-assistant .eye {
  width: 6px;
  height: 12px;
  background: radial-gradient(ellipse at top, #1e293b, #000);
  border-radius: 50% / 60%;
  position: absolute;
  top: 28%;
  animation: ai-assistant-blink 5s infinite;
}

.ai-assistant .eye.left { left: 30%; }
.ai-assistant .eye.right { right: 30%; }

/* Eye highlights */
.ai-assistant .eye::after {
  content: '';
  position: absolute;
  width: 1.5px;
  height: 2.5px;
  background: white;
  border-radius: 50%;
  top: 2px;
  right: 1.5px;
  opacity: 0.9;
}

/* Mouth */
.ai-assistant .mouth {
  position: absolute;
  bottom: 22%;
  left: 50%;
  width: 16px;
  height: 12px;
  transform: translateX(-50%);
  border-radius: 50%;
  border-bottom: 2.5px solid #1e293b;
}

/* Expression variants */
.ai-assistant.neutral .mouth {
  border-radius: 0;
  width: 12px;
}

.ai-assistant.excited .mouth {
  border-bottom-width: 3px;
  width: 18px;
  animation: ai-assistant-smile-wiggle 2s ease-in-out infinite;
}

/* Hover effects */
.ai-assistant:hover .shape {
  animation: ai-assistant-pulse 1.5s ease-in-out infinite;
  transform: scale(1.05);
  transition: transform 0.3s ease;
}

.ai-assistant:hover .eye {
  animation: ai-assistant-blink 2s infinite;
}

/* Animations */
@keyframes ai-assistant-pulse {
  0%, 100% {
    transform: scale(1);
    filter: brightness(1);
  }
  50% {
    transform: scale(1.02);
    filter: brightness(1.1);
  }
}

@keyframes ai-assistant-smile-wiggle {
  0%, 100% { transform: translateX(-50%) rotate(0deg); }
  25% { transform: translateX(-50%) rotate(1deg); }
  75% { transform: translateX(-50%) rotate(-1deg); }
}

@keyframes ai-assistant-blink {
  0%, 100% { transform: scaleY(1); }
  49% { transform: scaleY(1); }
  50% { transform: scaleY(0.1); }
  51% { transform: scaleY(1); }
}

@keyframes ai-assistant-float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}
