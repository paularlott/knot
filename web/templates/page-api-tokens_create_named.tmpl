<!DOCTYPE html>
<html>
  <head>
    {{ template "head-meta" (map "PageTitle" "Create API Token") }}
  </head>
  <body
    x-data="{ 'darkMode': true }"
    x-init="darkMode = JSON.parse(localStorage.getItem('darkMode'));
            if(darkMode == null) darkMode = true;
            $watch('darkMode', val => localStorage.setItem('darkMode', val))"
    :class="darkMode ? 'dark' : 'light'"
  >

    <div class="layout">
      <aside>
        <header>
          <h1><img src="images/knot-logo.webp" alt="knot Logo" /> knot</h1>
        </header>
        <div class="menu">
          {{ template "main-menu" . }}
        </div>
      </aside>
      <div class="content-container">
        <header>
          <form>
            <input type="checkbox" :value="darkMode" @change="darkMode = !darkMode" name="theme" class="light-dark">
          </form>

          <div>{{ .username }}</div>
        </header>
        <div class="content">

          <div class="row">
            <div class="col-sm-6 col-sm-offset-3">
              <div class="box">
                <h2>Create API Token</h2>

                <form action="" method="POST" @submit.prevent="submitData">
                  <dl>
                    <dt><label for="name">Token Name</label></dt>
                    <dd>
                      <input type="text" name="name" value="{{ .TokenName | html }}" readonly="readonly">
                    </dd>
                    <dt><label for="token">Token</label></dt>
                    <dd>
                      <input type="text" name="token" value="{{ .TokenId | html }}" readonly="readonly">
                    </dd>
                  </dl>
                </form>

              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

{{ template "alerts" . }}

  </body>
</html>
