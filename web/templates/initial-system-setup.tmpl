{{ template "layout-center.tmpl" . }}

{{ define "pageTitle" }}Initialize System{{ end }}

{{ define "mainContent" }}
<div x-data="createInitialUserForm()">
  <form action="" method="POST" @submit.prevent="submitData">
    <dl>
      <dt><label for="username">Username <em>*</em></label></dt>
      <dd>
        <input type="text" name="username" x-on:keyup.debounce.500ms="checkUsername()" :class="{'error': !usernameValid}" placeholder="Username (a - Z, 0 - 9 and -)" x-model="formData.username">
        <div x-show="!usernameValid" class="error-message">Username can only contain the letters a - Z, 0 - 9 and -, max 64 characters.</div>
      </dd>
      <dt><label for="email">Email <em>*</em></label></dt>
      <dd>
        <input type="text" name="email" x-on:keyup.debounce.500ms="checkEmail()" :class="{'error': !emailValid}" placeholder="Email address" x-model="formData.email">
        <div x-show="!emailValid" class="error-message">Enter a valid email address.</div>
      </dd>
      <dt><label for="password">Password <em>*</em></label></dt>
      <dd>
        <input type="password" name="password" x-on:keyup.debounce.500ms="checkPassword()" :class="{'error': !passwordValid}" placeholder="Password" x-model="formData.password">
        <div x-show="!passwordValid" class="error-message">Password must be at least 8 characters.</div>
      </dd>
      <dt><label for="confirm_password">Confirm Password <em>*</em></label></dt>
      <dd>
        <input type="password" name="confirm_password" x-on:keyup.debounce.500ms="checkConfirmPassword()" :class="{'error': !confirmPasswordValid}" placeholder="Confirm password" x-model="formData.password_confirm">
        <div x-show="!confirmPasswordValid" class="error-message">Both passwords must match.</div>
      </dd>
      <dt></dt>
      <dd><input type="submit" :value="buttonLabel" x-text="buttonLabel" :disabled="loading" class="full-width"></dd>
    </dl>
  </form>
</div>
{{ end }}
