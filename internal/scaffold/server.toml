# Server configuration
[server]
# Address and port to listen on
listen = "http://127.0.0.1:3000"

# Address and port to listen on for agents
listen_agent = "0.0.0.0:3010"

# Address and port for the agents to connect to
agent_endpoint = "srv+knot-server-agent.service.consul"

# The wildcard domain to expose the web interface of spaces on
#wildcard_domain = "*.example.com"

# Disable Proxy functionality
disable_proxy = false

[server.terminal]
webgl = true

# Encryption key for protected variables (knot genkey)
#encrypt = "VF9hmdXZyzNF3rcP6M0P"

# Optional server location, defaults to the hostname
#location = "myservers"

# MySQL storage
[server.mysql]
enabled = false
# MySQL host if prefixed with srv+ then SRV+ lookup will be performed
host = "localhost"
port = 3306
user = "root"
password = ""
database = "knot"

# BadgerDB storage
[server.badgerdb]
enabled = false
path = "./badgerdb/"

# Redis storage
[server.redis]
enabled = false
# Redis host if prefixed with srv+ then SRV+ lookup will be performed
hosts = ["localhost:6379"]
password = ""
db = 0

[server.nomad]
addr = "http://127.0.0.1:4646"
token = ""

[server.cluster]
advertise_addr = "wss://knot.example.com/"
key = "VF9hmdXZyzNF3rcP6M0P" # knot genkey
peers = [
  "wss://knot.example.com",
  "wss://knot1.example.com",
  "wss://knot2.example.com"
]

# Optional nameservers to use for SRV lookups
# [resolver]
#   consul = ["192.168.0.4:8600"]
#   nameservers = ["192.168.0.2:53"]

[log]
level = "info"
